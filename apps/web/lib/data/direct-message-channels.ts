import type { ChannelVM } from '@iconicedu/shared-types';
import {
  MOCK_EDUCATOR,
  MOCK_EDUCATOR_2,
  MOCK_EDUCATOR_3,
  MOCK_EDUCATOR_4,
  MOCK_EDUCATOR_5,
  MOCK_GUARDIAN,
  MOCK_ORG_ID,
} from './people';

const hoursAgo = (hours: number) =>
  new Date(Date.now() - 1000 * 60 * 60 * hours).toISOString();

export const DIRECT_MESSAGE_CHANNELS: ChannelVM[] = [
  {
    id: 'dm-channel-1',
    orgId: MOCK_ORG_ID,
    kind: 'dm',
    topic: MOCK_EDUCATOR.displayName,
    topicIconKey: 'user',
    description: 'Direct messages with your educator.',
    visibility: 'private',
    purpose: 'general',
    status: 'active',
    createdBy: MOCK_GUARDIAN.id,
    createdAt: hoursAgo(96),
    archivedAt: null,
    postingPolicy: {
      kind: 'members-only',
      allowThreads: true,
      allowReactions: true,
    },
    headerItems: [
      { key: 'saved', label: '2', tooltip: 'View saved messages', isPrimary: true },
      { key: 'last-seen', label: 'Last seen 15m' },
    ],
    participants: [MOCK_GUARDIAN, MOCK_EDUCATOR],
    messages: {
      items: [],
      total: 0,
    },
    readState: {
      channelId: 'dm-channel-1',
      lastReadAt: hoursAgo(2),
      unreadCount: 1,
    },
    defaultRightPanelOpen: false,
    defaultRightPanelKey: 'channel_info',
  },
  {
    id: 'dm-channel-2',
    orgId: MOCK_ORG_ID,
    kind: 'dm',
    topic: MOCK_EDUCATOR_2.displayName,
    topicIconKey: 'user',
    description: 'Direct messages with your educator.',
    visibility: 'private',
    purpose: 'general',
    status: 'active',
    createdBy: MOCK_GUARDIAN.id,
    createdAt: hoursAgo(120),
    archivedAt: null,
    postingPolicy: {
      kind: 'members-only',
      allowThreads: true,
      allowReactions: true,
    },
    headerItems: [
      { key: 'saved', label: '0', tooltip: 'View saved messages', isPrimary: true },
      { key: 'last-seen', label: 'Last seen 1h' },
    ],
    participants: [MOCK_GUARDIAN, MOCK_EDUCATOR_2],
    messages: {
      items: [],
      total: 0,
    },
    readState: {
      channelId: 'dm-channel-2',
      lastReadAt: hoursAgo(5),
      unreadCount: 0,
    },
    defaultRightPanelOpen: false,
    defaultRightPanelKey: 'channel_info',
  },
  {
    id: 'dm-channel-3',
    orgId: MOCK_ORG_ID,
    kind: 'dm',
    topic: MOCK_EDUCATOR_3.displayName,
    topicIconKey: 'user',
    description: 'Direct messages with your educator.',
    visibility: 'private',
    purpose: 'general',
    status: 'active',
    createdBy: MOCK_GUARDIAN.id,
    createdAt: hoursAgo(140),
    archivedAt: null,
    postingPolicy: {
      kind: 'members-only',
      allowThreads: true,
      allowReactions: true,
    },
    headerItems: [
      { key: 'saved', label: '1', tooltip: 'View saved messages', isPrimary: true },
      { key: 'last-seen', label: 'Last seen 2h' },
    ],
    participants: [MOCK_GUARDIAN, MOCK_EDUCATOR_3],
    messages: {
      items: [],
      total: 0,
    },
    readState: {
      channelId: 'dm-channel-3',
      lastReadAt: hoursAgo(8),
      unreadCount: 3,
    },
    defaultRightPanelOpen: false,
    defaultRightPanelKey: 'channel_info',
  },
  {
    id: 'dm-channel-4',
    orgId: MOCK_ORG_ID,
    kind: 'dm',
    topic: MOCK_EDUCATOR_4.displayName,
    topicIconKey: 'user',
    description: 'Direct messages with your educator.',
    visibility: 'private',
    purpose: 'general',
    status: 'active',
    createdBy: MOCK_GUARDIAN.id,
    createdAt: hoursAgo(200),
    archivedAt: null,
    postingPolicy: {
      kind: 'members-only',
      allowThreads: true,
      allowReactions: true,
    },
    headerItems: [
      { key: 'saved', label: '0', tooltip: 'View saved messages', isPrimary: true },
      { key: 'last-seen', label: 'Last seen yesterday' },
    ],
    participants: [MOCK_GUARDIAN, MOCK_EDUCATOR_4],
    messages: {
      items: [],
      total: 0,
    },
    readState: {
      channelId: 'dm-channel-4',
      lastReadAt: hoursAgo(24),
      unreadCount: 0,
    },
    defaultRightPanelOpen: false,
    defaultRightPanelKey: 'channel_info',
  },
  {
    id: 'dm-channel-5',
    orgId: MOCK_ORG_ID,
    kind: 'dm',
    topic: MOCK_EDUCATOR_5.displayName,
    topicIconKey: 'user',
    description: 'Direct messages with your educator.',
    visibility: 'private',
    purpose: 'general',
    status: 'active',
    createdBy: MOCK_GUARDIAN.id,
    createdAt: hoursAgo(240),
    archivedAt: null,
    postingPolicy: {
      kind: 'members-only',
      allowThreads: true,
      allowReactions: true,
    },
    headerItems: [
      { key: 'saved', label: '2', tooltip: 'View saved messages', isPrimary: true },
      { key: 'last-seen', label: 'Last seen 3d' },
    ],
    participants: [MOCK_GUARDIAN, MOCK_EDUCATOR_5],
    messages: {
      items: [],
      total: 0,
    },
    readState: {
      channelId: 'dm-channel-5',
      lastReadAt: hoursAgo(72),
      unreadCount: 5,
    },
    defaultRightPanelOpen: false,
    defaultRightPanelKey: 'channel_info',
  },
];
